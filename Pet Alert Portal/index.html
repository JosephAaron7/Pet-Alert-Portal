<html><head><base href="/?">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<style>
/* Core styles */
body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    min-height: 100vh;
    margin: 0;
    padding: 20px;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

/* Hero Section */
.hero-section {
    text-align: center;
    padding: 80px 0;
    margin-bottom: 40px;
    background: linear-gradient(135deg, #e8f4f8 0%, #d1e8f0 50%, #c3e0ec 100%);
    border-radius: 20px;
    box-shadow: 0 15px 35px rgba(52, 152, 219, 0.2);
    position: relative;
    overflow: hidden;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 5C55 5 60 10 60 15C60 20 55 25 50 25C45 25 40 20 40 15C40 10 45 5 50 5Z' fill='rgba(52, 152, 219, 0.05)'/%3E%3C/svg%3E") repeat;
    opacity: 0.1;
    z-index: 0;
}

.hero-logo {
    position: relative;
    z-index: 1;
    filter: drop-shadow(0 8px 16px rgba(0,0,0,0.1));
    transition: transform 0.5s ease;
}

.hero-logo:hover {
    transform: scale(1.05) rotate(5deg);
}

.text-gradient {
    background: linear-gradient(45deg, #2c3e50, #3498db);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
    position: relative;
    z-index: 1;
}

.hero-stats {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-top: 40px;
    position: relative;
    z-index: 1;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.stat-item:hover {
    transform: translateY(-5px);
}

.stat-item i {
    font-size: 24px;
    color: #3498db;
    margin-bottom: 10px;
}

.stat-count {
    font-size: 24px;
    font-weight: bold;
    color: #2c3e50;
}

.stat-label {
    font-size: 14px;
    color: #7f8c8d;
}

@media (max-width: 768px) {
    .hero-stats {
        flex-direction: column;
        gap: 20px;
    }
    
    .stat-item {
        width: 100%;
        max-width: 250px;
        margin: 0 auto;
    }
    
    .hero-section {
        padding: 40px 20px;
    }
}

/* Add animation for stats */
@keyframes countUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.stat-item {
    animation: countUp 0.8s ease-out forwards;
}

.stat-item:nth-child(2) {
    animation-delay: 0.2s;
}

.stat-item:nth-child(3) {
    animation-delay: 0.4s;
}

/* Navigation Tabs */
.nav-tabs {
    border: none;
    margin-bottom: 30px;
    display: flex;
    justify-content: center;
    gap: 10px;
}

.nav-tabs .nav-link {
    border: none;
    background: #f8f9fa;
    color: #495057;
    border-radius: 15px;
    padding: 15px 30px;
    font-weight: 600;
    transition: all 0.3s ease;
}

.nav-tabs .nav-link:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.nav-tabs .nav-link.active {
    background: #3498db;
    color: white;
}

/* Forms */
.form-control, .form-select {
    border-radius: 12px;
    border: 2px solid #e9ecef;
    padding: 12px;
    transition: all 0.3s ease;
}

.form-control:focus, .form-select:focus {
    border-color: #3498db;
    box-shadow: 0 0 15px rgba(52, 152, 219, 0.2);
    transform: translateY(-2px);
}

/* Buttons */
.btn {
    border-radius: 12px;
    padding: 12px 25px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
}

.btn-primary {
    background: linear-gradient(45deg, #3498db, #2980b9);
    border: none;
}

.btn-success {
    background: linear-gradient(45deg, #2ecc71, #27ae60);
    border: none;
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

/* Animations */
.fade-in {
    animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Status Indicators */
.status-badge {
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 0.9em;
    font-weight: 600;
}

.status-success {
    background-color: #d4edda;
    color: #155724;
}

.status-warning {
    background-color: #fff3cd;
    color: #856404;
}

.status-error {
    background-color: #f8d7da;
    color: #721c24;
}

/* Loading Overlay */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    visibility: hidden;
    opacity: 0;
    transition: all 0.3s ease;
}

.loading-overlay.active {
    visibility: visible;
    opacity: 1;
}

/* Responsive Design */
@media (max-width: 768px) {
    .container {
        padding: 15px;
    }
    
    .nav-tabs {
        flex-direction: column;
    }
    
    .nav-tabs .nav-link {
        margin-bottom: 10px;
    }
    
    .hero-section {
        padding: 40px 20px;
    }
    
    .hero-section img {
        max-width: 150px;
    }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 10px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: #3498db;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: #2980b9;
}

/* Floating Paws */
.floating-paw {
    position: absolute;
    opacity: 0.1;
    animation: floatPaw 10s linear infinite;
    pointer-events: none;
}

@keyframes floatPaw {
    0% {
        transform: translateY(100vh) rotate(0deg);
    }
    100% {
        transform: translateY(-100px) rotate(360deg);
    }
}

/* Enhance form validation styles */
.form-control.is-invalid,
.form-select.is-invalid {
    border-color: #dc3545;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(.375em + .1875rem) center;
    background-size: calc(.75em + .375rem) calc(.75em + .375rem);
}

/* Enhance loading overlay */
.loading-overlay {
    backdrop-filter: blur(5px);
}

.loading-overlay .spinner-border {
    width: 3rem;
    height: 3rem;
}
</style>

<script>
async function executeQuery(query, params = []) {
    try {
        // Encode parameters properly
        const queryParams = params.map(p => typeof p === 'string' ? encodeURIComponent(p) : p);
        
        const response = await fetch('/api/v1/sql/?' + new URLSearchParams({
            sql: query,
            params: JSON.stringify(queryParams)
        }));

        if (!response.ok) {
            throw new Error(`Database error: ${response.statusText}`);
        }

        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Database operation failed:', error);
        throw new Error('Database operation failed: ' + error.message);
    }
}

async function initializeApp() {
    try {
        if (!document.querySelector('.container')) {
            throw new Error('Required DOM elements not found');
        }

        // Show loading overlay during initialization
        showLoadingOverlay();
        
        // Create status indicator
        createStatusIndicator();
        
        // Initialize EmailJS with proper error handling
        try {
            await emailjs.init("jvRz2wFY1kqzz5Cmy");
            console.log('EmailJS initialized successfully');
        } catch (emailError) {
            console.error('EmailJS initialization failed:', emailError);
            throw new Error('Email service initialization failed');
        }
        
        // Initialize Database with proper error handling
        try {
            await initializeDatabase();
            console.log('Database initialized successfully');
        } catch (dbError) {
            console.error('Database initialization failed:', dbError);
            throw new Error('Database initialization failed');
        }
        
        // Setup event listeners
        try {
            setupEventListeners();
            console.log('Event listeners setup successfully');
        } catch (eventError) {
            console.error('Event listener setup failed:', eventError);
            throw new Error('Event listener setup failed');
        }
        
        // Initialize floating paws animation
        try {
            createFloatingPaws();
            console.log('Floating paws animation initialized');
        } catch (animError) {
            console.error('Animation initialization failed:', animError);
            // Non-critical error, don't throw
        }

        // Hide loading overlay on successful initialization
        hideLoadingOverlay();
        
        // Show success message
        showSuccessMessage('Application initialized successfully!');
        
    } catch (error) {
        console.error('Initialization error:', error);
        hideLoadingOverlay();
        showErrorMessage(`${error.message}. Please refresh the page or contact support if the problem persists.`);
    }
}

async function initializeDatabase() {
    try {
        const reportTableQuery = `
            CREATE TABLE IF NOT EXISTS reports (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                reporter_name TEXT NOT NULL,
                contact TEXT NOT NULL,
                animal_type TEXT NOT NULL,
                health_status TEXT NOT NULL,
                behavior TEXT NOT NULL,
                location TEXT NOT NULL,
                description TEXT,
                urgency TEXT NOT NULL,
                status TEXT DEFAULT 'pending',
                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
            )
        `;

        await executeQuery(reportTableQuery);
        console.log('Reports table initialized successfully');
        return true;
    } catch (error) {
        console.error('Database initialization error:', error);
        throw new Error(`Failed to initialize reports table: ${error.message}`);
    }
}

function validateForm(formElement) {
    const inputs = formElement.querySelectorAll('input, select, textarea');
    let isValid = true;
    
    inputs.forEach(input => {
        if (input.hasAttribute('required') && !input.value.trim()) {
            isValid = false;
            input.classList.add('is-invalid');
            
            // Add validation feedback
            let feedback = input.nextElementSibling;
            if (!feedback || !feedback.classList.contains('invalid-feedback')) {
                feedback = document.createElement('div');
                feedback.className = 'invalid-feedback';
                feedback.textContent = 'This field is required';
                input.after(feedback);
            }
        } else {
            input.classList.remove('is-invalid');
        }
    });
    
    return isValid;
}

async function handleReportSubmit(event) {
    event.preventDefault();
    
    if (!validateForm(event.target)) {
        showErrorMessage('Please fill in all required fields');
        return;
    }
    
    try {
        showLoadingOverlay();
        
        // Sanitize form data
        const formData = {
            reporter_name: DOMPurify.sanitize(document.getElementById('reporterName').value),
            contact: DOMPurify.sanitize(document.getElementById('reporterContact').value),
            animal_type: DOMPurify.sanitize(document.getElementById('animalType').value),
            health_status: DOMPurify.sanitize(document.getElementById('healthStatus').value),
            behavior: DOMPurify.sanitize(document.getElementById('behavior').value),
            location: DOMPurify.sanitize(document.getElementById('locationDetails').value),
            description: DOMPurify.sanitize(document.getElementById('description').value),
            urgency: DOMPurify.sanitize(document.getElementById('urgency').value)
        };

        // Use parameterized query
        const query = `
            INSERT INTO reports 
            (reporter_name, contact, animal_type, health_status, behavior, location, description, urgency) 
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
        `;
        
        const params = [
            formData.reporter_name,
            formData.contact,
            formData.animal_type,
            formData.health_status,
            formData.behavior,
            formData.location,
            formData.description,
            formData.urgency
        ];

        // Execute query with parameters
        await executeQuery(query, params);

        // Send email notification with better error handling
        try {
            await emailjs.send("service_default", "template_report", {
                reporter_name: formData.reporter_name,
                contact: formData.contact,
                animal_type: formData.animal_type,
                urgency: formData.urgency
            });
        } catch (emailError) {
            console.error('Email notification failed:', emailError);
            // Continue execution even if email fails
        }

        hideLoadingOverlay();
        showSuccessMessage('Report submitted successfully!');
        event.target.reset();
        
    } catch (error) {
        console.error('Report submission failed:', error);
        hideLoadingOverlay();
        showErrorMessage('Failed to submit report. Please try again. Error: ' + error.message);
    }
}

async function handleVolunteerSubmit(event) {
    event.preventDefault();
    
    if (!validateForm(event.target)) {
        showErrorMessage('Please fill in all required fields');
        return;
    }
    
    try {
        showLoadingOverlay();
        
        // Gather form data
        const formData = {
            name: document.getElementById('volunteerName').value,
            email: document.getElementById('volunteerEmail').value,
            phone: document.getElementById('volunteerPhone').value,
            availability: document.getElementById('availability').value,
            skills: document.getElementById('skills').value,
            experience_level: document.getElementById('experienceLevel').value,
            preferred_animals: Array.from(document.getElementById('preferredAnimals').selectedOptions).map(opt => opt.value).join(','),
            has_transportation: document.getElementById('transportation').checked
        };

        // Insert into database
        const query = `INSERT INTO volunteers 
            (name, email, phone, availability, skills, experience_level, preferred_animals, has_transportation) 
            VALUES 
            (?, ?, ?, ?, ?, ?, ?, ?)`;
             
        const params = [
            formData.name,
            formData.email,
            formData.phone,
            formData.availability,
            formData.skills,
            formData.experience_level,
            formData.preferred_animals,
            formData.has_transportation ? 1 : 0
        ];

        await executeQuery(query, params);

        // Send email confirmation
        await emailjs.send("service_default", "template_volunteer", {
            name: formData.name,
            email: formData.email,
            phone: formData.phone
        });

        hideLoadingOverlay();
        showStatusMessage('Thank you for volunteering! We will contact you soon.', 'success');
        event.target.reset();
        
    } catch (error) {
        console.error('Volunteer submission failed:', error);
        hideLoadingOverlay();
        showErrorMessage('Failed to submit volunteer application. Please try again.');
    }
}

async function handleSubscriptionSubmit(event) {
    event.preventDefault();
    
    try {
        // Validate that at least one alert type is selected
        const emailAlerts = document.getElementById('emailAlerts').checked;
        const smsAlerts = document.getElementById('smsAlerts').checked;
        const email = document.getElementById('subscriberEmail').value.trim();
        const phone = document.getElementById('subscriberPhone').value.trim();

        // Enhanced validation
        if (!emailAlerts && !smsAlerts) {
            throw new Error('Please select at least one type of alert (Email or SMS)');
        }

        if (emailAlerts && !email) {
            throw new Error('Email address is required for email alerts');
        }

        if (smsAlerts && !phone) {
            throw new Error('Phone number is required for SMS alerts');
        }

        if (email && !isValidEmail(email)) {
            throw new Error('Please enter a valid email address');
        }

        if (phone && !isValidPhone(phone)) {
            throw new Error('Please enter a valid phone number');
        }

        showLoadingOverlay();

        // Sanitize the input data
        const sanitizedData = {
            email: DOMPurify.sanitize(email),
            phone: DOMPurify.sanitize(phone),
            email_alerts: emailAlerts,
            sms_alerts: smsAlerts
        };

        // Insert into database with parameterized query
        const query = `INSERT INTO subscribers 
            (email, phone, email_alerts, sms_alerts) 
            VALUES 
            (?, ?, ?, ?)`;

        const params = [
            sanitizedData.email || null,
            sanitizedData.phone || null,
            sanitizedData.email_alerts ? 1 : 0,
            sanitizedData.sms_alerts ? 1 : 0
        ];

        const result = await executeQuery(query, params);

        // Send confirmation email if email alerts are enabled
        if (sanitizedData.email_alerts) {
            await emailjs.send("service_default", "template_subscription", {
                email: sanitizedData.email,
                alert_type: sanitizedData.sms_alerts ? "Email and SMS" : "Email only"
            });
        }

        hideLoadingOverlay();
        showSuccessMessage('Subscription completed successfully! You will receive a confirmation shortly.');
        event.target.reset();
        
    } catch (error) {
        console.error('Subscription failed:', error);
        hideLoadingOverlay();
        showErrorMessage(error.message || 'Failed to complete subscription. Please try again.');
    }
}

// Add these helper validation functions
function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
}

function isValidPhone(phone) {
    const phoneRegex = /^\+?[\d\s-]{10,}$/;
    return phoneRegex.test(phone);
}

// Update setupEventListeners function to include error handling
function setupEventListeners() {
    try {
        // Report Form
        const reportForm = document.getElementById('reportForm');
        if (!reportForm) {
            throw new Error('Report form not found');
        }
        reportForm.addEventListener('submit', handleReportSubmit);
        
        // Volunteer Form
        const volunteerForm = document.getElementById('volunteerForm');
        if (!volunteerForm) {
            throw new Error('Volunteer form not found');
        }
        volunteerForm.addEventListener('submit', handleVolunteerSubmit);
        
        // Subscription Form
        const subscriptionForm = document.getElementById('subscriptionForm');
        if (!subscriptionForm) {
            throw new Error('Subscription form not found');
        }
        subscriptionForm.addEventListener('submit', handleSubscriptionSubmit);
        
        console.log('Event listeners setup successfully');
    } catch (error) {
        console.error('Event listener setup failed:', error);
        throw new Error('Event listener setup failed: ' + error.message);
    }
}

function createStatusIndicator() {
    const existingIndicator = document.querySelector('.status-indicator');
    if (existingIndicator) {
        existingIndicator.remove();
    }

    const statusIndicator = document.createElement('div');
    statusIndicator.className = 'status-indicator position-fixed bottom-0 end-0 m-3';
    statusIndicator.innerHTML = `
        <div class="card shadow-sm">
            <div class="card-body p-2">
                <small class="text-muted">Service Status:</small>
                <div class="d-flex gap-2 align-items-center">
                    <span class="badge bg-success">Connected</span>
                </div>
            </div>
        </div>
    `;
    
    if (document.body) {
        document.body.appendChild(statusIndicator);
    }
}

function showErrorMessage(message) {
    const container = document.querySelector('.container');
    if (!container) {
        console.error('Container element not found');
        return;
    }

    const alertDiv = document.createElement('div');
    alertDiv.className = 'alert alert-danger alert-dismissible fade show';
    alertDiv.innerHTML = `
        <strong>Error:</strong> ${message}
        <br>
        <small>If this problem persists, please contact support at support@petalertportal.com</small>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    `;
    container.prepend(alertDiv);
}

function showSuccessMessage(message) {
    const container = document.querySelector('.container');
    if (!container) {
        console.error('Container element not found');
        return;
    }

    const alertDiv = document.createElement('div');
    alertDiv.className = 'alert alert-success alert-dismissible fade show';
    alertDiv.innerHTML = `
        <strong>Success:</strong> ${message}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    `;
    container.prepend(alertDiv);
}

function showLoadingOverlay() {
    const overlay = document.querySelector('.loading-overlay');
    if (overlay) {
        overlay.classList.add('active');
    }
}

function hideLoadingOverlay() {
    const overlay = document.querySelector('.loading-overlay');
    if (overlay) {
        overlay.classList.remove('active');
    }
}

function createFloatingPaws() {
    const pawBackground = document.getElementById('pawBackground');
    if (!pawBackground) {
        console.warn('Paw background element not found');
        return;
    }
    
    // Create SVG paw element
    const pawSVG = `
        <svg width="30" height="30" viewBox="0 0 100 100">
            <path d="M50 5C55 5 60 10 60 15C60 20 55 25 50 25C45 25 40 20 40 15C40 10 45 5 50 5Z" />
            <path d="M30 25C35 25 40 30 40 35C40 40 35 45 30 45C25 45 20 40 20 35C20 30 25 25 30 25Z" />
            <path d="M70 25C75 25 80 30 80 35C80 40 75 45 70 45C65 45 60 40 60 35C60 30 65 25 70 25Z" />
<path d="M50 35C65 35 75 50 75 65C75 80 65 85 50 85C35 85 25 80 25 65C25 50 35 35 50 35Z" />
        </svg>`;
    
    // Create 10 floating paws
    for (let i = 0; i < 10; i++) {
        const paw = document.createElement('div');
        paw.className = 'floating-paw';
        paw.innerHTML = pawSVG;
        paw.style.left = `${Math.random() * 100}%`;
        paw.style.animationDelay = `${Math.random() * 5}s`;
        pawBackground.appendChild(paw);
    }
}

window.addEventListener('DOMContentLoaded', async () => {
    try {
        await initializeApp();
    } catch (error) {
        console.error('Application initialization failed:', error);
        showErrorMessage('Failed to initialize application. Please refresh the page.');
    }
});
</script>
</head>
<body>

<div class="container">
    <div id="pawBackground" class="paw-background"></div>
    
    <div class="hero-section fade-in">
        <img src="https://images.websim.ai/v1/icons/pet-alert-portal" 
             alt="Pet Alert Portal Logo - A paw print inside a heart" 
             class="mb-4 hero-logo"
             width="200"
             height="200">
        <h1 class="display-4 mb-3 text-gradient">Pet Alert Portal</h1>
        <p class="lead mb-4">Together we can make a difference in animal welfare</p>
        <div class="hero-stats">
            <div class="stat-item">
                <i class="fas fa-paw"></i>
                <span class="stat-count">100+</span>
                <span class="stat-label">Animals Helped</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-users"></i>
                <span class="stat-count">50+</span>
                <span class="stat-label">Active Volunteers</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-heart"></i>
                <span class="stat-count">200+</span>
                <span class="stat-label">Community Members</span>
            </div>
        </div>
    </div>
    
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" data-bs-toggle="tab" href="#reportTab">Report Animal</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#volunteerTab">Volunteer</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#subscribeTab">Subscribe to Alerts</a>
        </li>
    </ul>
    
    <div class="tab-content">
        <!-- Report Animal Tab -->
        <div id="reportTab" class="tab-pane fade show active">
            <form id="reportForm" class="needs-validation" novalidate>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="reporterName" class="form-label">Your Name</label>
                        <input type="text" class="form-control" id="reporterName" required>
                    </div>
                    <div class="col-md-6">
                        <label for="reporterContact" class="form-label">Contact Information</label>
                        <input type="text" class="form-control" id="reporterContact" required>
                    </div>
                    <div class="col-md-6">
                        <label for="animalType" class="form-label">Animal Type</label>
                        <select class="form-select" id="animalType" required>
                            <option value="">Choose...</option>
                            <optgroup label="Domestic Animals">
                                <option value="Dog">Dog</option>
                                <option value="Cat">Cat</option>
                                <option value="Rabbit">Rabbit</option>
                                <option value="Bird">Bird (Pet)</option>
                            </optgroup>
                            <optgroup label="Wildlife">
                                <option value="Bird-Wild">Bird (Wild)</option>
                                <option value="Deer">Deer</option>
                                <option value="Fox">Fox</option>
                                <option value="Other-Wildlife">Other Wildlife</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="healthStatus" class="form-label">Health Status</label>
                        <select class="form-select" id="healthStatus" required>
                            <option value="">Choose...</option>
                            <option>Critical</option>
                            <option>Injured</option>
                            <option>Appears Healthy</option>
                            <option>Unknown</option>
                        </select>
                    </div>
                    <div class="col-12">
                        <label for="behavior" class="form-label">Behavior</label>
                        <textarea class="form-control" id="behavior" rows="2" required></textarea>
                    </div>
                    <div class="col-12">
                        <label for="locationDetails" class="form-label">Location Details</label>
                        <textarea class="form-control" id="locationDetails" rows="2" required></textarea>
                    </div>
                    <div class="col-12">
                        <label for="description" class="form-label">Additional Description</label>
                        <textarea class="form-control" id="description" rows="3"></textarea>
                    </div>
                    <div class="col-md-6">
                        <label for="urgency" class="form-label">Urgency Level</label>
                        <select class="form-select" id="urgency" required>
                            <option value="">Choose...</option>
                            <option>Immediate Response Needed</option>
                            <option>Urgent</option>
                            <option>Non-urgent</option>
                        </select>
                    </div>
                </div>
                <div class="d-grid gap-2 col-md-6 mx-auto mt-4">
                    <button type="submit" class="btn btn-primary">Submit Report</button>
                </div>
            </form>
        </div>
        
        <!-- Volunteer Tab -->
        <div id="volunteerTab" class="tab-pane fade">
            <form id="volunteerForm" class="needs-validation" novalidate>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="volunteerName" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="volunteerName" required>
                    </div>
                    <div class="col-md-6">
                        <label for="volunteerEmail" class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="volunteerEmail" required>
                    </div>
                    <div class="col-md-6">
                        <label for="volunteerPhone" class="form-label">Phone Number</label>
                        <input type="tel" class="form-control" id="volunteerPhone">
                    </div>
                    <div class="col-md-6">
                        <label for="availability" class="form-label">Availability</label>
                        <select class="form-select" id="availability" required>
                            <option value="">Choose...</option>
                            <option>Weekdays</option>
                            <option>Weekends</option>
                            <option>Flexible</option>
                        </select>
                    </div>
                    <div class="col-12">
                        <label for="skills" class="form-label">Relevant Skills</label>
                        <textarea class="form-control" id="skills" rows="2"></textarea>
                    </div>
                    <div class="col-md-6">
                        <label for="experienceLevel" class="form-label">Experience Level</label>
                        <select class="form-select" id="experienceLevel" required>
                            <option value="">Choose...</option>
                            <option>Beginner</option>
                            <option>Intermediate</option>
                            <option>Advanced</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="preferredAnimals" class="form-label">Preferred Animals</label>
                        <select class="form-select" id="preferredAnimals" multiple required>
                            <option>Dogs</option>
                            <option>Cats</option>
                            <option>Birds</option>
                            <option>Wildlife</option>
                        </select>
                    </div>
                    <div class="col-12">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="transportation">
                            <label class="form-check-label" for="transportation">
                                I have reliable transportation
                            </label>
                        </div>
                    </div>
                </div>
                <div class="d-grid gap-2 col-md-6 mx-auto mt-4">
                    <button type="submit" class="btn btn-success">Submit Application</button>
                </div>
            </form>
        </div>
        
        <!-- Subscribe Tab -->
        <div id="subscribeTab" class="tab-pane fade">
            <form id="subscriptionForm" class="needs-validation" novalidate>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="subscriberEmail" class="form-label">Email Address</label>
                        <input type="email" 
                               class="form-control" 
                               id="subscriberEmail" 
                               placeholder="your@email.com"
                               pattern="[^\s@]+@[^\s@]+\.[^\s@]+"
                               title="Please enter a valid email address">
                        <div class="invalid-feedback">
                            Please enter a valid email address
                        </div>
                        <div class="form-check mt-2">
                            <input class="form-check-input" type="checkbox" id="emailAlerts">
                            <label class="form-check-label" for="emailAlerts">
                                Receive Email Alerts
                            </label>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="subscriberPhone" class="form-label">Phone Number</label>
                        <input type="tel" 
                               class="form-control" 
                               id="subscriberPhone" 
                               placeholder="+1 (555) 555-5555"
                               pattern="\+?[\d\s-]{10,}"
                               title="Please enter a valid phone number">
                        <div class="invalid-feedback">
                            Please enter a valid phone number
                        </div>
                        <div class="form-check mt-2">
                            <input class="form-check-input" type="checkbox" id="smsAlerts">
                            <label class="form-check-label" for="smsAlerts">
                                Receive SMS Alerts
                            </label>
                        </div>
                    </div>
                </div>
                <div class="d-grid gap-2 col-md-6 mx-auto mt-4">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-bell"></i> Subscribe
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <hr class="my-5">
    
    <div class="row align-items-center justify-content-center">
        <div class="col-md-6 text-center">
            <h3>Support Our Cause</h3>
            <p>Your donation helps us continue our mission to protect and rescue animals in need.</p>
            <button class="btn btn-lg btn-success mb-3" onclick="window.open('https://www.paypal.com/paypalme/PetAlertPortal', '_blank')">
                <i class="fas fa-heart"></i> Donate Now
            </button>
            
            <div class="mt-4">
                <button class="btn btn-primary me-2" onclick="shareOnSocial('facebook')">
                    <i class="fab fa-facebook"></i> Share
                </button>
                <button class="btn btn-info" onclick="shareOnSocial('twitter')">
                    <i class="fab fa-twitter"></i> Tweet
                </button>
            </div>
        </div>
    </div>
</div>

<div class="loading-overlay">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>

</body>
</html>